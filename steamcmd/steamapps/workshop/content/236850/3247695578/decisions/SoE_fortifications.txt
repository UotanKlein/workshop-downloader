country_decisions = {
	soe_upgrade_fort = {
		potential = {
			ai = yes
			OR = {
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 15
				}
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 15
					NOT = {
						any_owned_province = {
							has_building = fort_15th
							NOT = { has_building = fort_16th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 19
				}
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 19
					NOT = {
						any_owned_province = {
							OR = {
								has_building = fort_15th
								has_building = fort_16th
							}
							NOT = { has_building = fort_17th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 24
				}
				AND = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 24
					NOT = {
						any_owned_province = {
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
							}
							NOT = { has_building = fort_18th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = upgraded_fort }
				had_country_flag = {
					flag = upgraded_fort
					days = 365
				}
			}
		}
		effect = {
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 15
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					add_building = fort_16th
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 15
					NOT = {
						any_owned_province = {
							has_building = fort_15th
							NOT = { has_building = fort_16th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						has_building = fort_15th
						NOT = { has_building = fort_16th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					add_building = fort_16th
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 19
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					add_building = fort_17th
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 19
					NOT = {
						any_owned_province = {
							OR = {
								has_building = fort_15th
								has_building = fort_16th
							}
							NOT = { has_building = fort_17th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
						}
						NOT = { has_building = fort_17th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					add_building = fort_17th
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					mil_tech = 24
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
							is_capital = yes
							province_id = 4251
							province_id = 310
							province_id = 306
							province_id = 301
							province_id = 708
							province_id = 698
							province_id = 316
						}
					}
					add_building = fort_18th
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					mil_tech = 24
					NOT = {
						any_owned_province = {
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
							}
							NOT = { has_building = fort_18th }
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
								has_terrain = glacier
								has_terrain = jungle
								has_terrain = marsh
								is_capital = yes
								province_id = 4251
								province_id = 310
								province_id = 306
								province_id = 301
								province_id = 708
								province_id = 698
								province_id = 316
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_any_ongoing_construction = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
						}
						NOT = { has_building = fort_18th }
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
					}
					add_building = fort_18th
				}
			}
			clr_country_flag = upgraded_fort
			set_country_flag = upgraded_fort
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_capital_fort = {
		potential = {
			ai = yes
			is_year = 1455
			total_development = 25
			is_subject = no
			NOT = { has_reform = steppe_horde }
			NOT = { government = native }
			NOT = { tag = LIV }
			NOT = { tag = LVA }
			OR = {
				NOT = { has_country_flag = builded_capital_fort }
				had_country_flag = {
					flag = builded_capital_fort
					days = 3650
				}
			}
			NOT = { has_country_flag = builded_capital_fort_two }
			any_owned_province = {
				is_core = ROOT
				is_capital = yes
				NOT = { province_id = 1196 }
				has_any_ongoing_construction = no
				has_fort_building_trigger = no
				num_free_building_slots = 1
				OR = {
					has_terrain = farmlands
					has_terrain = grasslands
					has_terrain = drylands
					has_terrain = desert
					has_terrain = coastal_desert
					has_terrain = coastline
					has_terrain = drylands
					has_terrain = savannah
					has_terrain = steppe
					has_terrain = woods
					has_terrain = forest
				}
				OR = {
					province_id = 183
					AND = {
						has_influencing_fort = no
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
						NOT = {
							any_neighbor_province = {
								owned_by = ROOT
								trade_goods = gold
							}
						}
					}
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
		}
		effect = {
			if = {
				limit = {
					mil_tech = 24
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						is_capital = yes
						NOT = { province_id = 1196 }
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
						OR = {
							province_id = 183
							AND = {
								has_influencing_fort = no
								NOT = {
									any_neighbor_province = {
										has_fort_building_trigger = yes
									}
								}
								NOT = {
									any_neighbor_province = {
										owned_by = ROOT
										trade_goods = gold
									}
								}
							}
						}
					}
					add_building = fort_18th
				}
			}
			else_if = {
				limit = {
					mil_tech = 19
					NOT = { mil_tech = 24 }
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						is_capital = yes
						NOT = { province_id = 1196 }
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
						OR = {
							province_id = 183
							AND = {
								has_influencing_fort = no
								NOT = {
									any_neighbor_province = {
										has_fort_building_trigger = yes
									}
								}
								NOT = {
									any_neighbor_province = {
										owned_by = ROOT
										trade_goods = gold
									}
								}
							}
						}
					}
					add_building = fort_17th
				}
			}
			else_if = {
				limit = {
					mil_tech = 14
					NOT = { mil_tech = 19 }
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						is_capital = yes
						NOT = { province_id = 1196 }
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
						OR = {
							province_id = 183
							AND = {
								has_influencing_fort = no
								NOT = {
									any_neighbor_province = {
										has_fort_building_trigger = yes
									}
								}
								NOT = {
									any_neighbor_province = {
										owned_by = ROOT
										trade_goods = gold
									}
								}
							}
						}
					}
					add_building = fort_16th
				}
			}
			else = {
				random_owned_province = {
					limit = {
						is_core = ROOT
						is_capital = yes
						NOT = { province_id = 1196 }
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
							has_terrain = woods
							has_terrain = forest
						}
						OR = {
							province_id = 183
							AND = {
								has_influencing_fort = no
								NOT = {
									any_neighbor_province = {
										has_fort_building_trigger = yes
									}
								}
								NOT = {
									any_neighbor_province = {
										owned_by = ROOT
										trade_goods = gold
									}
								}
							}
						}
					}
					add_building = fort_15th
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = builded_capital_fort }
				}
				set_country_flag = builded_capital_fort
			}
			else = {
				clr_country_flag = builded_capital_fort
				set_country_flag = builded_capital_fort_two
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_gold_fort = {
		potential = {
			ai = yes
			any_owned_province = {
				is_core = ROOT
				has_any_ongoing_construction = no
				has_fort_building_trigger = no
				num_free_building_slots = 1
				trade_goods = gold
				has_influencing_fort = no
				NOT = {
					any_neighbor_province = {
						has_fort_building_trigger = yes
					}
				}
				NOT = { has_province_modifier = fort_completed }
			}
		}
		allow = {
			is_year = 1460
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = builded_gold_fort }
				had_country_flag = {
					flag = builded_gold_fort
					days = 3650
				}
			}
		}
		effect = {
			if = {
				limit = {
					mil_tech = 24
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						trade_goods = gold
						has_influencing_fort = no
						NOT = { has_province_modifier = fort_completed }
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_building = fort_18th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			else_if = {
				limit = {
					mil_tech = 19
					NOT = { mil_tech = 24 }
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						trade_goods = gold
						has_influencing_fort = no
						NOT = { has_province_modifier = fort_completed }
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_building = fort_17th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			else_if = {
				limit = {
					mil_tech = 14
					NOT = { mil_tech = 19 }
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						trade_goods = gold
						has_influencing_fort = no
						NOT = { has_province_modifier = fort_completed }
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_building = fort_16th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			else = {
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						num_free_building_slots = 1
						trade_goods = gold
						has_influencing_fort = no
						NOT = { has_province_modifier = fort_completed }
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			clr_country_flag = builded_gold_fort
			set_country_flag = builded_gold_fort
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_move_forts = {
		potential = {
			ai = yes
			OR = {
				AND = {
					ROOT = { owns_core_province = 217 }
					ROOT = { owns_core_province = 219 }
					217 = { has_fort_building_trigger = no is_capital = yes }
					219 = { has_fort_building_trigger = yes }
				}
				AND = {
					ROOT = { owns_core_province = 1835 }
					ROOT = { owns_core_province = 1020 }
					ROOT = { owns_core_province = 4188 }
					1835 = { has_fort_building_trigger = yes is_capital = no }
					1020 = { has_fort_building_trigger = yes }
					4188 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 4150 }
					ROOT = { owns_core_province = 4556 }
					4150 = { has_fort_building_trigger = yes is_capital = no }
					4556 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 4378 }
					ROOT = { owns_core_province = 372 }
					4378 = { has_fort_building_trigger = yes is_capital = no }
					372 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					OR = {
						AND = {
							ROOT = { owns_core_province = 2209 }
							2209 = { has_fort_building_trigger = yes }
						}
						AND = {
							ROOT = { owns_core_province = 4290 }
							4290 = { has_fort_building_trigger = yes }
						}
					}
					ROOT = { owns_core_province = 413 }
					ROOT = { owns_core_province = 4342 }
					413 = { has_fort_building_trigger = yes is_capital = no }
					4342 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 2218 }
					ROOT = { owns_core_province = 4329 }
					2218 = { has_fort_building_trigger = yes is_capital = no }
					4329 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 435 }
					ROOT = { owns_core_province = 436 }
					435 = { has_fort_building_trigger = yes is_capital = no }
					436 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 447 }
					ROOT = { owns_core_province = 448 }
					447 = { has_fort_building_trigger = yes is_capital = no }
					448 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 2214 }
					ROOT = { owns_core_province = 2236 }
					2214 = { has_fort_building_trigger = yes is_capital = no }
					2236 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 2215 }
					ROOT = { owns_core_province = 4338 }
					2215 = { has_fort_building_trigger = yes is_capital = no }
					4338 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 73 }
					ROOT = { owns_core_province = 4758 }
					ROOT = { owns_core_province = 110 }
					73 = { has_fort_building_trigger = no num_free_building_slots = 1 has_influencing_fort = no }
					110 = { has_fort_building_trigger = yes }
					4758 = { has_fort_building_trigger = yes is_capital = no }
				}
				AND = {
					ROOT = { owns_core_province = 1184 }
					ROOT = { owns_core_province = 1185 }
					ROOT = { owns_core_province = 1188 }
					1188 = { has_fort_building_trigger = no num_free_building_slots = 1 }
					1184 = { has_fort_building_trigger = yes }
					1185 = { has_fort_building_trigger = yes is_capital = no }
				}
				AND = {
					ROOT = { owns_core_province = 339 }
					ROOT = { owns_core_province = 2458 }
					339 = { has_fort_building_trigger = yes is_capital = no }
					2458 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 4237 }
					ROOT = { owns_core_province = 4238 }
					4237 = { has_fort_building_trigger = yes is_capital = no }
					4238 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 138 }
					ROOT = { owns_core_province = 1766 }
					138 = { has_fort_building_trigger = yes is_capital = no }
					1766 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 131 }
					ROOT = { owns_core_province = 140 }
					131 = { has_fort_building_trigger = yes is_capital = no }
					140 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 281 }
					ROOT = { owns_core_province = 261 }
					281 = { has_fort_building_trigger = yes is_capital = no }
					261 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 670 }
					ROOT = { owns_core_province = 2174 }
					ROOT = { owns_core_province = 673 }
					670 = { has_fort_building_trigger = yes is_capital = no }
					2174 = { has_fort_building_trigger = yes }
					673 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					ROOT = { owns_core_province = 148 }
					ROOT = { owns_core_province = 1853 }
					148 = { has_fort_building_trigger = yes is_capital = no }
					1853 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				AND = {
					is_year = 1540
					ROOT = { owns_core_province = 136 }
					ROOT = { owns_core_province = 4753 }
					136 = { has_fort_building_trigger = yes is_capital = no }
					4753 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
			}
		}
		allow = {
			is_year = 1450
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
		}
		effect = {
			if = {
				limit = { 
					ROOT = { owns_core_province = 217 }
					ROOT = { owns_core_province = 219 }
					217 = { has_fort_building_trigger = no is_capital = yes }
					219 = { has_fort_building_trigger = yes }
				}
				219 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				217 = { add_latest_building = { fort = yes builder = ROOT } }
				if = {
					limit = { ROOT = { owns_core_province = 2754 } 2754 = { has_fort_building_trigger = no } }
					2754 = { add_latest_building = { fort = yes builder = ROOT } }
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 1835 }
					ROOT = { owns_core_province = 1020 }
					ROOT = { owns_core_province = 4188 }
					1835 = { has_fort_building_trigger = yes is_capital = no }
					1020 = { has_fort_building_trigger = yes }
					4188 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				1835 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4188 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4150 }
					ROOT = { owns_core_province = 4556 }
					4150 = { has_fort_building_trigger = yes is_capital = no }
					4556 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				4150 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4556 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4378 }
					ROOT = { owns_core_province = 372 }
					4378 = { has_fort_building_trigger = yes is_capital = no }
					372 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				4378 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				372 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					OR = {
						AND = {
							ROOT = { owns_core_province = 2209 }
							2209 = { has_fort_building_trigger = yes }
						}
						AND = {
							ROOT = { owns_core_province = 4290 }
							4290 = { has_fort_building_trigger = yes }
						}
					}
					ROOT = { owns_core_province = 413 }
					ROOT = { owns_core_province = 4342 }
					413 = { has_fort_building_trigger = yes is_capital = no }
					4342 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				413 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4342 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2218 }
					ROOT = { owns_core_province = 4329 }
					2218 = { has_fort_building_trigger = yes is_capital = no }
					4329 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				2218 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4329 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 435 }
					ROOT = { owns_core_province = 436 }
					435 = { has_fort_building_trigger = yes is_capital = no }
					436 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				435 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				436 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 447 }
					ROOT = { owns_core_province = 448 }
					447 = { has_fort_building_trigger = yes is_capital = no }
					448 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				447 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				448 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2215 }
					ROOT = { owns_core_province = 4338 }
					2215 = { has_fort_building_trigger = yes is_capital = no }
					4338 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				2215 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4338 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2214 }
					ROOT = { owns_core_province = 2236 }
					2214 = { has_fort_building_trigger = yes is_capital = no }
					2236 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				2214 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				2236 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 73 }
					ROOT = { owns_core_province = 4758 }
					ROOT = { owns_core_province = 110 }
					73 = { has_fort_building_trigger = no num_free_building_slots = 1 has_influencing_fort = no }
					4758 = { has_fort_building_trigger = yes is_capital = no }
					110 = { has_fort_building_trigger = yes }
				}
				4758 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				73 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 1184 }
					ROOT = { owns_core_province = 1185 }
					ROOT = { owns_core_province = 1188 }
					1188 = { has_fort_building_trigger = no num_free_building_slots = 1 }
					1184 = { has_fort_building_trigger = yes }
					1185 = { has_fort_building_trigger = yes is_capital = no }
				}
				1185 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				1188 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 339 }
					ROOT = { owns_core_province = 2458 }
					339 = { has_fort_building_trigger = yes is_capital = no }
					2458 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				339 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				2458 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4237 }
					ROOT = { owns_core_province = 4238 }
					4237 = { has_fort_building_trigger = yes is_capital = no }
					4238 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				4237 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4238 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 138 }
					ROOT = { owns_core_province = 1766 }
					138 = { has_fort_building_trigger = yes is_capital = no }
					1766 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				138 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				1766 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 131 }
					ROOT = { owns_core_province = 140 }
					131 = { has_fort_building_trigger = yes is_capital = no }
					140 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				131 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				140 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 281 }
					ROOT = { owns_core_province = 261 }
					281 = { has_fort_building_trigger = yes is_capital = no }
					261 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				281 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				261 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 670 }
					ROOT = { owns_core_province = 2174 }
					ROOT = { owns_core_province = 673 }
					670 = { has_fort_building_trigger = yes is_capital = no }
					2174 = { has_fort_building_trigger = yes }
					673 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				670 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				673 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 148 }
					ROOT = { owns_core_province = 1853 }
					148 = { has_fort_building_trigger = yes is_capital = no }
					1853 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				148 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				1853 = { add_latest_building = { fort = yes builder = ROOT } }
			}
			if = {
				limit = {
					is_year = 1540
					ROOT = { owns_core_province = 136 }
					ROOT = { owns_core_province = 4753 }
					136 = { has_fort_building_trigger = yes is_capital = no }
					4753 = { has_fort_building_trigger = no num_free_building_slots = 1 }
				}
				136 = { remove_building = fort_15th remove_building = fort_16th remove_building = fort_17th remove_building = fort_18th }
				4753 = { add_latest_building = { fort = yes builder = ROOT } }
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_forts_tur = {
		potential = {
			ai = yes
			tag = TUR
			is_year = 1480
			NOT = { is_year = 1550 }
			OR = {
				AND = {
					ROOT = { owns_core_province = 316 }
					316 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no }
				}
				AND = {
					ROOT = { owns_core_province = 4779 }
					4779 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no }
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = tur_builded_forts }
				had_country_flag = {
					flag = tur_builded_forts
					days = 3650
				}
			}
			NOT = { has_country_flag = tur_builded_forts_two }
		}
		effect = {
			if = {
				limit = {
					ROOT = { owns_core_province = 316 }
					316 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no }
				}
				316 = {
					add_building = fort_15th
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4779 }
					4779 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no }
				}
				4779 = {
					add_building = fort_15th
				}
			}
			if = {
				limit = { NOT = { has_country_flag = tur_builded_forts } }
				set_country_flag = tur_builded_forts
			}
			else = {
				clr_country_flag = tur_builded_forts
				set_country_flag = tur_builded_forts_two
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_forts_mng = {
		potential = {
			ai = yes
			tag = MNG
			is_year = 1461
			NOT = { is_year = 1500 }
			OR = {
				AND = {
					ROOT = { owns_core_province = 2140 }
					2140 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 2162 }
					2162 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 670 }
					ROOT = { owns_core_province = 2174 }
					ROOT = { owns_core_province = 2173 }
					670 = { has_fort_building_trigger = yes }
					2174 = { has_fort_building_trigger = no }
					2173 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = mng_builded_forts }
				had_country_flag = {
					flag = mng_builded_forts
					days = 3650
				}
			}
			NOT = { has_country_flag = mng_builded_forts_two }
		}
		effect = {
			if = {
				limit = {
					ROOT = { owns_core_province = 2140 }
					2140 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2140 = { 
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2162 }
					2162 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2162 = { 
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 670 }
					ROOT = { owns_core_province = 2174 }
					ROOT = { owns_core_province = 2173 }
					670 = { has_fort_building_trigger = yes }
					2174 = { has_fort_building_trigger = no }
					2173 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2173 = { 
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = { NOT = { has_country_flag = mng_builded_forts } }
				set_country_flag = mng_builded_forts
			}
			else = {
				clr_country_flag = mng_builded_forts
				set_country_flag = mng_builded_forts_two
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_forts_lit = {
		potential = {
			ai = yes
			tag = LIT
			is_year = 1450
			NOT = { is_year = 1500 }
			OR = {
				AND = {
					ROOT = { owns_core_province = 278 }
					278 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 4247 }
					4247 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = lit_builded_forts }
				had_country_flag = {
					flag = lit_builded_forts
					days = 3650
				}
			}
			NOT = { has_country_flag = lit_builded_forts_two }
		}
		effect = {
			if = {
				limit = {
					ROOT = { owns_core_province = 278 }
					278 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				278 = { 
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4247 }
					4247 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				4247 = { 
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = { NOT = { has_country_flag = lit_builded_forts } }
				set_country_flag = lit_builded_forts
			}
			else = {
				clr_country_flag = lit_builded_forts
				set_country_flag = lit_builded_forts_two
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_forts_other = {
		potential = {
			ai = yes
			OR = {
				AND = {
					ROOT = { owns_core_province = 120 }
					120 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 168 }
					168 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 180 }
					ROOT = { owns_core_province = 4387 }
					180 = { has_fort_building_trigger = no }
					4387 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 173 }
					ROOT = { owns_core_province = 176 }
					173 = { has_fort_building_trigger = no }
					176 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 192 }
					ROOT = { owns_core_province = 193 }
					192 = { has_fort_building_trigger = no }
					193 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 199 }
					199 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 284 }
					284 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 211 }
					ROOT = { owns_core_province = 210 }
					211 = { has_fort_building_trigger = no }
					210 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 211 }
					ROOT = { owns_core_province = 2987 }
					211 = { has_fort_building_trigger = no }
					2987 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 138 }
					ROOT = { owns_core_province = 1766 }
					138 = { has_fort_building_trigger = no }
					1766 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 330 }
					330 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 408 }
					408 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 2132 }
					2132 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 2750 }
					2750 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					ROOT = { owns_core_province = 2218 }
					ROOT = { owns_core_province = 4329 }
					2218 = { has_fort_building_trigger = no is_capital = no }
					4329 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					OR = {
						NOT = { ROOT = { owns_core_province = 508 } }
						508 = { has_fort_building_trigger = no }
					}
					ROOT = { owns_core_province = 4511 }
					4511 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				AND = {
					is_year = 1500
					ROOT = { owns_core_province = 223 }
					ROOT = { owns_core_province = 222 }
					223 = { has_fort_building_trigger = no }
					222 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
			}
		}
		
		allow = {
			is_year = 1450
			NOT = { is_year = 1560 }
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			NOT = { num_of_loans = 6 }
			OR = {
				NOT = { has_country_flag = builded_other_forts }
				had_country_flag = {
					flag = builded_other_forts
					days = 730
				}
			}
		}

		effect = {
			if = {
				limit = {
					ROOT = { owns_core_province = 120 }
					120 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				120 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 180 }
					ROOT = { owns_core_province = 4387 }
					180 = { has_fort_building_trigger = no }
					4387 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				4387 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 168 }
					168 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				168 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 173 }
					ROOT = { owns_core_province = 176 }
					173 = { has_fort_building_trigger = no }
					176 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				176 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 192 }
					ROOT = { owns_core_province = 193 }
					192 = { has_fort_building_trigger = no }
					193 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				176 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 199 }
					199 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				199 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 284 }
					284 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				284 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 211 }
					ROOT = { owns_core_province = 210 }
					211 = { has_fort_building_trigger = no }
					210 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				210 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 211 }
					ROOT = { owns_core_province = 2987 }
					211 = { has_fort_building_trigger = no }
					2987 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2987 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 138 }
					ROOT = { owns_core_province = 1766 }
					138 = { has_fort_building_trigger = no }
					1766 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				1766 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 330 }
					330 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				330 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 408 }
					408 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				408 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2132 }
					2132 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2132 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2750 }
					2750 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				2750 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2218 }
					ROOT = { owns_core_province = 4329 }
					2218 = { has_fort_building_trigger = no is_capital = no }
					4329 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				4329 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					OR = {
						NOT = { ROOT = { owns_core_province = 508 } }
						508 = { has_fort_building_trigger = no }
					}
					ROOT = { owns_core_province = 4511 }
					4511 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				4511 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			if = {
				limit = {
					is_year = 1500
					ROOT = { owns_core_province = 222 }
					ROOT = { owns_core_province = 223 }
					223 = { has_fort_building_trigger = no }
					222 = { has_fort_building_trigger = no num_free_building_slots = 1 has_any_ongoing_construction = no NOT = { has_province_modifier = fort_completed } }
				}
				222 = {
					add_building = fort_15th
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			clr_country_flag = builded_other_forts
			set_country_flag = builded_other_forts
		}

		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_add_forts = {
		potential = {
			ai = yes
			is_year = 1490
			if = {
				limit = {
					OR = {
						tag = JAP
						tag = MAJ
						tag = MLC
						tag = BEI
						tag = BAN
						tag = SUN
						tag = CRB
					}
				}
				any_owned_province = {
					is_core = ROOT
					has_any_ongoing_construction = no
					has_fort_building_trigger = no
					NOT = { has_province_modifier = fort_completed }
					OR = {
						has_terrain = hills
						has_terrain = highlands
						has_terrain = mountain
						has_terrain = glacier
						has_terrain = jungle
						has_terrain = marsh
					}
					NOT = {
						any_neighbor_province = {
							has_fort_building_trigger = yes
						}
					}
				}
			}
			else = {
				any_owned_province = {
					is_core = ROOT
					has_any_ongoing_construction = no
					has_fort_building_trigger = no
					has_port = no
					NOT = { has_province_modifier = fort_completed }
					OR = {
						has_terrain = hills
						has_terrain = highlands
						has_terrain = mountain
						has_terrain = glacier
						has_terrain = jungle
						has_terrain = marsh
					}
					NOT = {
						any_neighbor_province = {
							has_fort_building_trigger = yes
						}
					}
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			is_in_deficit = no
			current_income_balance = 4
			treasury = 300
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = builded_forts_flag }
				had_country_flag = {
					flag = builded_forts_flag
					days = 1095
				}
			}
		}
		effect = {
			add_treasury = -200
			if = {
				limit = {
					OR = {
						tag = JAP
						tag = MAJ
						tag = MLC
						tag = BEI
						tag = BAN
						tag = SUN
						tag = CRB
					}
				}
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						NOT = { has_province_modifier = fort_completed }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
						}
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_latest_building = { fort = yes builder = ROOT }
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			else = {
				random_owned_province = {
					limit = {
						is_core = ROOT
						has_any_ongoing_construction = no
						has_fort_building_trigger = no
						has_port = no
						NOT = { has_province_modifier = fort_completed }
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
							has_terrain = glacier
							has_terrain = jungle
							has_terrain = marsh
						}
						NOT = {
							any_neighbor_province = {
								has_fort_building_trigger = yes
							}
						}
					}
					add_latest_building = { fort = yes builder = ROOT }
					add_province_modifier = { 
						name = fort_completed
						duration = -1
						hidden = yes
					}
				}
			}
			clr_country_flag = builded_forts_flag
			set_country_flag = builded_forts_flag
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}

############### Remove Forts ###############
	
	soe_remove_fort_one = {
		potential = {
			ai = yes
			OR = {
				any_owned_province = {
					is_capital = no
					NOT = { province_id = 334 }
					NOT = { province_id = 295 }
					NOT = { province_id = 36 }
					NOT = { province_id = 39 }
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = farmlands
						has_terrain = grasslands
						has_terrain = drylands
						has_terrain = desert
						has_terrain = coastal_desert
						has_terrain = coastline
						has_terrain = drylands
						has_terrain = savannah
						has_terrain = steppe
					}
					any_neighbor_province = {
						owned_by = ROOT
						is_capital = yes
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				any_owned_province = {
					is_capital = no
					NOT = { province_id = 334 }
					NOT = { province_id = 295 }
					NOT = { province_id = 36 }
					NOT = { province_id = 39 }
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = farmlands
						has_terrain = grasslands
						has_terrain = desert
						has_terrain = coastal_desert
						has_terrain = coastline
						has_terrain = drylands
						has_terrain = savannah
						has_terrain = steppe
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						OR = {
							has_building = ramparts
							trade_goods = salt
						}
					}
				}
				any_owned_province = {
					is_capital = no
					NOT = { province_id = 334 }
					NOT = { province_id = 295 }
					NOT = { province_id = 36 }
					NOT = { province_id = 39 }
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = farmlands
						has_terrain = grasslands
						has_terrain = desert
						has_terrain = coastal_desert
						has_terrain = coastline
						has_terrain = drylands
						has_terrain = savannah
						has_terrain = steppe
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						higher_development_than = PREV
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						any_neighbor_province = {
							owned_by = ROOT
							is_capital = yes
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = drylands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						any_neighbor_province = {
							owned_by = ROOT
							is_capital = yes
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = farmlands
								has_terrain = grasslands
								has_terrain = desert
								has_terrain = coastal_desert
								has_terrain = coastline
								has_terrain = drylands
								has_terrain = savannah
								has_terrain = steppe
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = farmlands
								has_terrain = grasslands
								has_terrain = desert
								has_terrain = coastal_desert
								has_terrain = coastline
								has_terrain = drylands
								has_terrain = savannah
								has_terrain = steppe
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = farmlands
								has_terrain = grasslands
								has_terrain = desert
								has_terrain = coastal_desert
								has_terrain = coastline
								has_terrain = drylands
								has_terrain = savannah
								has_terrain = steppe
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						NOT = { province_id = 334 }
						NOT = { province_id = 295 }
						NOT = { province_id = 36 }
						NOT = { province_id = 39 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = farmlands
								has_terrain = grasslands
								has_terrain = desert
								has_terrain = coastal_desert
								has_terrain = coastline
								has_terrain = drylands
								has_terrain = savannah
								has_terrain = steppe
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_remove_fort_two = {
		potential = {
			ai = yes
			OR = {
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = highlands
						has_terrain = hills
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						OR = {
							has_building = ramparts
							trade_goods = salt
						}
					}
				}
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = highlands
						has_terrain = hills
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						higher_development_than = PREV
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = highlands
								has_terrain = hills
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = highlands
								has_terrain = hills
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = highlands
								has_terrain = hills
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = highlands
							has_terrain = hills
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = highlands
								has_terrain = hills
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_remove_fort_three = {
		potential = {
			ai = yes
			OR = {
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					has_terrain = mountain
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						OR = {
							has_building = ramparts
							trade_goods = salt
						}
					}
				}
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					has_terrain = mountain
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						higher_development_than = PREV
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_remove_fort_four = {
		potential = {
			ai = yes
			OR = {
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = jungle
						has_terrain = marsh
						has_terrain = woods
						has_terrain = forest
						has_terrain = glacier
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						OR = {
							has_building = ramparts
							trade_goods = salt
						}
					}
				}
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = jungle
						has_terrain = marsh
						has_terrain = woods
						has_terrain = forest
						has_terrain = glacier
					}
					NOT = { has_building = ramparts }
					NOT = { trade_goods = salt }
					any_neighbor_province = {
						higher_development_than = PREV
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
							}
							OR = {
								has_building = ramparts
								trade_goods = salt
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						NOT = { has_building = ramparts }
						NOT = { trade_goods = salt }
						any_neighbor_province = {
							higher_development_than = PREV
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
							}
							NOT = { has_building = ramparts }
							NOT = { trade_goods = salt }
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_remove_fort_five = {
		potential = {
			ai = yes
			OR = {
				any_owned_province = {
					is_capital = no
					NOT = { province_id = 334 }
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = farmlands
						has_terrain = grasslands
						has_terrain = desert
						has_terrain = coastal_desert
						has_terrain = coastline
						has_terrain = drylands
						has_terrain = savannah
						has_terrain = steppe
					}
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
						}
					}
				}
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = jungle
						has_terrain = marsh
						has_terrain = woods
						has_terrain = forest
						has_terrain = glacier
					}
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = hills
							has_terrain = highlands
							has_terrain = mountain
						}
					}
				}
				any_owned_province = {
					is_capital = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = hills
						has_terrain = highlands
					}
					any_neighbor_province = {
						owned_by = ROOT
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						has_terrain = mountain
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						NOT = { province_id = 334 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						NOT = { province_id = 334 }
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = farmlands
							has_terrain = grasslands
							has_terrain = desert
							has_terrain = coastal_desert
							has_terrain = coastline
							has_terrain = drylands
							has_terrain = savannah
							has_terrain = steppe
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = jungle
								has_terrain = marsh
								has_terrain = woods
								has_terrain = forest
								has_terrain = glacier
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = jungle
							has_terrain = marsh
							has_terrain = woods
							has_terrain = forest
							has_terrain = glacier
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							OR = {
								has_terrain = hills
								has_terrain = highlands
								has_terrain = mountain
							}
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = hills
							has_terrain = highlands
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
						}
					}
				}
				random_owned_province = {
					limit = {
						is_capital = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
						OR = {
							has_terrain = hills
							has_terrain = highlands
						}
						any_neighbor_province = {
							owned_by = ROOT
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							has_terrain = mountain
						}
					}
					if = {
						limit = { has_building = fort_18th }
						remove_building = fort_18th
					}
					else_if = {
						limit = { has_building = fort_17th }
						remove_building = fort_17th
					}
					else_if = {
						limit = { has_building = fort_16th }
						remove_building = fort_16th
					}
					else_if = {
						limit = { has_building = fort_15th }
						remove_building = fort_15th
					}
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}
	
	soe_remove_fort_special = {
		potential = {
			ai = yes
			OR = {
				AND = {
					NOT = { tag = PRO }
					ROOT = { owns_core_province = 4766 }
					ROOT = { owns_core_province = 94 }
					4766 = {
						has_building = fort_15th
					}
					94 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = NEV }
					ROOT = { owns_core_province = 181 }
					ROOT = { owns_core_province = 94 }
					181 = {
						has_building = fort_15th
					}
					94 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = MOR
						tag = POR
						tag = GRA
						tag = CAS
						tag = ARA
						tag = SPA
					}
					ROOT = { owns_core_province = 343 }
					ROOT = { owns_core_province = 1751 }
					343 = {
						has_building = fort_15th
					}
					1751 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = MOR }
					NOT = { is_year = 1550 }
					ROOT = { owns_core_province = 334 }
					334 = {
						has_building = fort_15th
					}
					OR = {
						AND = {
							ROOT = { owns_core_province = 343 }
							343 = {
								has_building = fort_15th
							}
						}
						AND = {
							ROOT = { owns_core_province = 1751 }
							1751 = {
								has_building = fort_15th
							}
						}
					}
				}
				AND = {
					OR = {
						tag = TIM
						tag = TRS
						tag = AFG
						tag = MUG
						tag = PER
					}
					ROOT = { owns_core_province = 445 }
					ROOT = { owns_core_province = 446 }
					445 = {
						has_building = fort_15th
					}
					446 = {
						has_building = fort_15th
					}
				}
				AND = {
					tag = FRA
					ROOT = { owns_core_province = 178 }
					ROOT = { owns_core_province = 180 }
					178 = {
						has_building = fort_15th
					}
					180 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = SER
						tag = HUN
						tag = HAB
						tag = TUR
					}
					ROOT = { owns_core_province = 141 }
					ROOT = { owns_core_province = 4239 }
					141 = {
						has_building = fort_15th
					}
					4239 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = SER
						tag = HUN
						tag = HAB
						tag = TUR
					}
					ROOT = { owns_core_province = 4176 }
					ROOT = { owns_core_province = 156 }
					4176 = {
						has_building = fort_15th
					}
					156 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = ASK
						tag = JAP
					}
					ROOT = { owns_core_province = 1835 }
					ROOT = { owns_core_province = 1837 }
					1835 = {
						has_building = fort_15th
					}
					1837 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = PLC
						tag = POL
						tag = TEU
						tag = MAZ
						tag = LIT
					}
					ROOT = { owns_core_province = 256 }
					ROOT = { owns_core_province = 2958 }
					256 = {
						has_building = fort_15th
					}
					2958 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = POL
						tag = PLC
						tag = LIT
						tag = NOV
						tag = MOS
						tag = RUS
						was_tag = RUS
						tag = LIV
						tag = DAN
					}
					ROOT = { owns_core_province = 275 }
					ROOT = { owns_core_province = 4148 }
					275 = {
						has_building = fort_15th
					}
					4148 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = VIJ
						tag = BAH
						tag = YOR
					}
					ROOT = { owns_core_province = 4425 }
					ROOT = { owns_core_province = 4439 }
					ROOT = { owns_core_province = 2037 }
					4425 = {
						has_building = fort_15th
					}
					4439 = {
						has_building = fort_15th
					}
					2037 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = MER
						tag = DLH
						tag = JNP
						tag = MLW
						tag = GWA
						tag = MUG
					}
					ROOT = { owns_core_province = 524 }
					ROOT = { owns_core_province = 525 }
					ROOT = { owns_core_province = 4465 }
					524 = {
						has_building = fort_15th
					}
					525 = {
						has_building = fort_15th
					}
					4465 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = PLC
						tag = LIT
						tag = MOS
						tag = RUS
						was_tag = RUS
					}
					ROOT = { owns_core_province = 4148 }
					ROOT = { owns_core_province = 275 }
					4148 = {
						has_building = fort_15th
					}
					275 = {
						has_building = fort_15th
					}
				}
				AND = {
					OR = {
						tag = PLC
						tag = LIT
						tag = MOS
						tag = RUS
						was_tag = RUS
					}
					ROOT = { owns_core_province = 273 }
					ROOT = { owns_core_province = 275 }
					273 = {
						has_building = fort_15th
					}
					275 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = FLA }
					ROOT = { owns_core_province = 90 }
					ROOT = { owns_core_province = 4769 }
					90 = {
						has_building = fort_15th
					}
					4769 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = BRB }
					ROOT = { owns_core_province = 1744 }
					ROOT = { owns_core_province = 92 }
					1744 = {
						has_building = fort_15th
					}
					92 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = THU }
					ROOT = { owns_core_province = 4743 }
					ROOT = { owns_core_province = 63 }
					4743 = {
						has_building = fort_15th
					}
					63 = {
						has_building = fort_15th
					}
				}
				AND = {
					ROOT = { owns_core_province = 1757 }
					ROOT = { owns_core_province = 4717 }
					1757 = {
						has_building = fort_15th
					}
					4717 = {
						has_building = fort_15th
					}
				}
				AND = {
					ROOT = { owns_core_province = 87 }
					ROOT = { owns_core_province = 89 }
					87 = {
						has_building = fort_15th
					}
					89 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = MFA }
					ROOT = { owns_core_province = 2981 }
					ROOT = { owns_core_province = 1875 }
					2981 = {
						has_building = fort_15th
					}
					1875 = {
						has_building = fort_15th
					}
				}
				AND = {
					ROOT = { owns_core_province = 4727 }
					ROOT = { owns_core_province = 1875 }
					4727 = {
						has_building = fort_15th
					}
					1875 = {
						has_building = fort_15th
					}
				}
				AND = {
					ROOT = { owns_core_province = 4295 }
					ROOT = { owns_core_province = 411 }
					4295 = {
						has_building = fort_15th
					}
					411 = {
						has_building = fort_15th
					}
				}
				AND = {
					ROOT = { owns_core_province = 2209 }
					ROOT = { owns_core_province = 413 }
					2209 = {
						has_building = fort_15th
					}
					413 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = HSK }
					ROOT = { owns_core_province = 4295 }
					ROOT = { owns_core_province = 418 }
					4295 = {
						has_building = fort_15th
					}
					418 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = HAN }
					ROOT = { owns_core_province = 1758 }
					ROOT = { owns_core_province = 57 }
					1758 = {
						has_building = fort_15th
					}
					57 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = BRU }
					ROOT = { owns_core_province = 57 }
					ROOT = { owns_core_province = 52 }
					57 = {
						has_building = fort_15th
					}
					52 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = ANH }
					ROOT = { owns_core_province = 58 }
					ROOT = { owns_core_province = 52 }
					58 = {
						has_building = fort_15th
					}
					52 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = PAP }
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 120 }
					119 = {
						has_building = fort_15th
					}
					120 = {
						has_building = fort_15th
					}
				}
				AND = {
					tag = PAP
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 120 }
					119 = {
						has_building = fort_15th
					}
					120 = {
						has_building = fort_15th
					}
				}
				AND = {
					NOT = { tag = PAP }
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 2977 }
					119 = {
						has_building = fort_15th
					}
					2977 = {
						has_building = fort_15th
					}
				}
				AND = {
					tag = PAP
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 2977 }
					119 = {
						has_building = fort_15th
					}
					2977 = {
						has_building = fort_15th
					}
				}
			}
		}
		
		allow = {
			is_at_war = no
			is_year = 1455
		}

		effect = {
			if = {
				limit = {
					NOT = { tag = PRO }
					ROOT = { owns_core_province = 4766 }
					ROOT = { owns_core_province = 94 }
				}
				4766 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = NEV }
					ROOT = { owns_core_province = 181 }
					ROOT = { owns_core_province = 94 }
				}
				181 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = MOR
						tag = POR
						tag = GRA
						tag = CAS
						tag = ARA
						tag = SPA
					}
					ROOT = { owns_core_province = 343 }
					ROOT = { owns_core_province = 1751 }
				}
				1751 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = MOR }
					NOT = { is_year = 1550 }
					ROOT = { owns_core_province = 334 }
					334 = {
						has_building = fort_15th
					}
					OR = {
						AND = {
							ROOT = { owns_core_province = 343 }
							343 = {
								has_building = fort_15th
							}
						}
						AND = {
							ROOT = { owns_core_province = 1751 }
							1751 = {
								has_building = fort_15th
							}
						}
					}
				}
				334 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = TIM
						tag = TRS
						tag = AFG
						tag = MUG
						tag = PER
					}
					ROOT = { owns_core_province = 445 }
					ROOT = { owns_core_province = 446 }
				}
				445 = {	remove_building = fort_15th }
			}
			if = {
				limit = {
					tag = FRA
					ROOT = { owns_core_province = 178 }
					ROOT = { owns_core_province = 180 }
				}
				180 = {	remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = SER
						tag = HUN
						tag = HAB
						tag = TUR
					}
					ROOT = { owns_core_province = 141 }
					ROOT = { owns_core_province = 4239 }
				}
				141 = {	remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = SER
						tag = HUN
						tag = HAB
						tag = TUR
					}
					ROOT = { owns_core_province = 4176 }
					ROOT = { owns_core_province = 156 }
				}
				4176 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = ASK
						tag = JAP
					}
					ROOT = { owns_core_province = 1835 }
					ROOT = { owns_core_province = 1837 }
				}
				1837 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = PLC
						tag = POL
						tag = TEU
						tag = MAZ
						tag = LIT
					}
					ROOT = { owns_core_province = 256 }
					ROOT = { owns_core_province = 2958 }
				}
				2958 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = POL
						tag = PLC
						tag = LIT
						tag = NOV
						tag = MOS
						tag = RUS
						was_tag = RUS
						tag = LIV
						tag = DAN
					}
					ROOT = { owns_core_province = 275 }
					ROOT = { owns_core_province = 4148 }
				}
				4148 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = VIJ
						tag = BAH
						tag = YOR
					}
					ROOT = { owns_core_province = 4425 }
					ROOT = { owns_core_province = 4439 }
					ROOT = { owns_core_province = 2037 }
				}
				4439 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = MER
						tag = DLH
						tag = JNP
						tag = MLW
						tag = GWA
						tag = MUG
					}
					ROOT = { owns_core_province = 524 }
					ROOT = { owns_core_province = 525 }
					ROOT = { owns_core_province = 4465 }
				}
				524 = { remove_building = fort_15th }
				4465 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = PLC
						tag = LIT
						tag = MOS
						tag = RUS
						was_tag = RUS
					}
					ROOT = { owns_core_province = 4148 }
					ROOT = { owns_core_province = 275 }
				}
				4148 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					OR = {
						tag = PLC
						tag = LIT
						tag = MOS
						tag = RUS
						was_tag = RUS
					}
					ROOT = { owns_core_province = 273 }
					ROOT = { owns_core_province = 275 }
				}
				273 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = FLA }
					ROOT = { owns_core_province = 90 }
					ROOT = { owns_core_province = 4769 }
				}
				90 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = BRB }
					ROOT = { owns_core_province = 1744 }
					ROOT = { owns_core_province = 92 }
				}
				92 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = THU }
					ROOT = { owns_core_province = 4743 }
					ROOT = { owns_core_province = 63 }
				}
				4743 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 1757 }
					ROOT = { owns_core_province = 4717 }
				}
				1757 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 89 }
					ROOT = { owns_core_province = 87 }
				}
				89 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = MFA }
					ROOT = { owns_core_province = 2981 }
					ROOT = { owns_core_province = 1875 }
				}
				2981 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4727 }
					ROOT = { owns_core_province = 1875 }
				}
				1875 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 4295 }
					ROOT = { owns_core_province = 411 }
				}
				411 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					ROOT = { owns_core_province = 2209 }
					ROOT = { owns_core_province = 413 }
				}
				413 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = HSK }
					ROOT = { owns_core_province = 4295 }
					ROOT = { owns_core_province = 418 }
				}
				4295 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = HAN }
					ROOT = { owns_core_province = 1758 }
					ROOT = { owns_core_province = 57 }
				}
				1758 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = BRU }
					ROOT = { owns_core_province = 57 }
					ROOT = { owns_core_province = 52 }
				}
				57 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = ANH }
					ROOT = { owns_core_province = 58 }
					ROOT = { owns_core_province = 52 }
				}
				58 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = PAP }
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 120 }
				}
				119 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					tag = PAP
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 120 }
				}
				120 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					NOT = { tag = PAP }
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 2977 }
				}
				119 = { remove_building = fort_15th }
			}
			if = {
				limit = {
					tag = PAP
					ROOT = { owns_core_province = 119 }
					ROOT = { owns_core_province = 2977 }
				}
				2977 = { remove_building = fort_15th }
			}
		}

		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_at_war = yes
			}
		}
	}

############### Ramparts ###############

	soe_make_ramparts_gold = {
		potential = {
			ai = yes
			is_year = 1480
			any_owned_province = {
				is_core = ROOT
				has_any_ongoing_construction = no
				province_is_on_an_island = no
				NOT = { island = yes }
				num_free_building_slots = 1
				has_manufactory_trigger = no
				trade_goods = gold
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = made_ramparts_gold }
				had_country_flag = {
					flag = made_ramparts_gold
					days = 1460
				}
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_any_ongoing_construction = no
					province_is_on_an_island = no
					NOT = { island = yes }
					num_free_building_slots = 1
					has_manufactory_trigger = no
					trade_goods = gold
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
				}
				add_building = ramparts
			}
			clr_country_flag = made_ramparts_gold
			set_country_flag = made_ramparts_gold
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_make_ramparts_one = {
		potential = {
			ai = yes
			is_year = 1480
			any_owned_province = {
				is_core = ROOT
				has_any_ongoing_construction = no
				OR = {
					AND = {
						province_is_on_an_island = no
						NOT = { island = yes }
					}
					province_id = 124
				}
				num_free_building_slots = 1
				OR = {
					NOT = { base_production = 5 }
					province_id = 330
					province_id = 124
				}
				has_manufactory_trigger = no
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
				OR = {
					trade_goods = grain
					trade_goods = fish
					trade_goods = naval_supplies
					trade_goods = slaves
					trade_goods = wool
					trade_goods = tropical_wood
					trade_goods = tea
					trade_goods = chinaware
				}
				OR = {
					has_terrain = hills
					has_terrain = mountain
					has_terrain = highlands
					has_terrain = marsh
					has_terrain = glacier
					has_terrain = jungle
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = made_ramparts }
				had_country_flag = {
					flag = made_ramparts
					days = 1460
				}
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_any_ongoing_construction = no
					OR = {
						AND = {
							province_is_on_an_island = no
							NOT = { island = yes }
						}
						province_id = 124
					}
					num_free_building_slots = 1
					OR = {
						NOT = { base_production = 5 }
						province_id = 330
						province_id = 124
					}
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						trade_goods = grain
						trade_goods = fish
						trade_goods = naval_supplies
						trade_goods = slaves
						trade_goods = wool
						trade_goods = tropical_wood
						trade_goods = tea
						trade_goods = chinaware
					}
					OR = {
						has_terrain = hills
						has_terrain = mountain
						has_terrain = highlands
						has_terrain = marsh
						has_terrain = glacier
						has_terrain = jungle
					}
				}
				add_building = ramparts
			}
			clr_country_flag = made_ramparts
			set_country_flag = made_ramparts
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_make_ramparts_two = {
		potential = {
			ai = yes
			is_year = 1485
			any_owned_province = {
				is_core = ROOT
				province_is_on_an_island = no
				has_any_ongoing_construction = no
				NOT = { island = yes }
				num_free_building_slots = 1
				NOT = { base_production = 4 }
				has_manufactory_trigger = no
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
				NOT = {
					OR = {
						trade_goods = grain
						trade_goods = fish
						trade_goods = naval_supplies
						trade_goods = slaves
						trade_goods = wool
						trade_goods = tropical_wood
						trade_goods = tea
						trade_goods = chinaware
					}
				}
				OR = {
					has_terrain = hills
					has_terrain = mountain
					has_terrain = highlands
					has_terrain = marsh
					has_terrain = glacier
					has_terrain = jungle
				}
			}
		}
		allow = {
			is_at_war = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = made_ramparts }
				had_country_flag = {
					flag = made_ramparts
					days = 1460
				}
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_any_ongoing_construction = no
					province_is_on_an_island = no
					NOT = { island = yes }
					num_free_building_slots = 1
					NOT = { base_production = 4 }
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					NOT = {
						OR = {
							trade_goods = grain
							trade_goods = fish
							trade_goods = naval_supplies
							trade_goods = slaves
							trade_goods = wool
							trade_goods = tropical_wood
							trade_goods = tea
							trade_goods = chinaware
						}
					}
					OR = {
						has_terrain = hills
						has_terrain = mountain
						has_terrain = highlands
						has_terrain = marsh
						has_terrain = glacier
						has_terrain = jungle
					}
				}
				add_building = ramparts
			}
			clr_country_flag = made_ramparts
			set_country_flag = made_ramparts
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_make_ramparts_three = {
		potential = {
			ai = yes
			is_year = 1500
			any_owned_province = {
				is_core = ROOT
				has_any_ongoing_construction = no
				province_is_on_an_island = no
				NOT = { island = yes }
				NOT = { num_free_building_slots = 1 }
				OR = {
					has_building = workshop
					has_building = regimental_camp
				}
				OR = {
					NOT = { base_production = 4 }
					province_id = 330
				}
				has_manufactory_trigger = no
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
				OR = {
					has_terrain = hills
					has_terrain = mountain
					has_terrain = highlands
					has_terrain = marsh
					has_terrain = glacier
					has_terrain = jungle
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = made_ramparts_two }
				had_country_flag = {
					flag = made_ramparts_two
					days = 1460
				}
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_any_ongoing_construction = no
					province_is_on_an_island = no
					NOT = { island = yes }
					NOT = { num_free_building_slots = 1 }
					OR = {
						has_building = workshop
						has_building = regimental_camp
					}
					OR = {
						NOT = { base_production = 4 }
						province_id = 330
					}
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					OR = {
						has_terrain = hills
						has_terrain = mountain
						has_terrain = highlands
						has_terrain = marsh
						has_terrain = glacier
						has_terrain = jungle
					}
				}
				remove_building = workshop
				remove_building = regimental_camp
				add_building = ramparts
			}
			clr_country_flag = made_ramparts_two
			set_country_flag = made_ramparts_two
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_make_special_ramparts = {
		potential = {
			ai = yes
			is_year = 1480
			any_owned_province = {
				is_core = ROOT
				has_any_ongoing_construction = no
				num_free_building_slots = 1
				has_manufactory_trigger = no
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
					is_capital = yes
				}
				OR = {
					province_id = 4232
					province_id = 1196
					province_id = 4531
					province_id = 1756
					province_id = 261
					province_id = 1943
					province_id = 301
					province_id = 308
					province_id = 4251
					province_id = 1082
					province_id = 464
					province_id = 1936
					province_id = 2753
					province_id = 4392
					province_id = 36
					province_id = 76
					province_id = 173
					province_id = 211
					province_id = 2987
					province_id = 197
					province_id = 232
					province_id = 293
					province_id = 120
					province_id = 30
					province_id = 4247
					province_id = 328
					province_id = 408
					province_id = 2132
					province_id = 4511
					province_id = 2750
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			OR = {
				NOT = { has_country_flag = made_special_ramparts }
				had_country_flag = {
					flag = made_special_ramparts
					days = 1460
				}
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_any_ongoing_construction = no
					num_free_building_slots = 1
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
						is_capital = yes
					}
					OR = {
						province_id = 4232
						province_id = 1196
						province_id = 4531
						province_id = 1756
						province_id = 261
						province_id = 1943
						province_id = 301
						province_id = 308
						province_id = 4251
						province_id = 1082
						province_id = 464
						province_id = 1936
						province_id = 2753
						province_id = 4392
						province_id = 36
						province_id = 76
						province_id = 173
						province_id = 211
						province_id = 2987
						province_id = 197
						province_id = 232
						province_id = 293
						province_id = 120
						province_id = 30
						province_id = 4247
						province_id = 328
						province_id = 408
						province_id = 2132
						province_id = 4511
						province_id = 2750
					}
				}
				add_building = ramparts
			}
			clr_country_flag = made_special_ramparts
			set_country_flag = made_special_ramparts
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_make_chinese_ramparts = {
		potential = {
			tag = MNG
			ai = yes
			is_year = 1475
			OR = {
				697 = {
					is_core = ROOT
					has_any_ongoing_construction = no
					num_free_building_slots = 1
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
				}
				698 = {
					is_core = ROOT
					has_any_ongoing_construction = no
					num_free_building_slots = 1
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
				}
				708 = {
					is_core = ROOT
					has_any_ongoing_construction = no
					num_free_building_slots = 1
					has_manufactory_trigger = no
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
				}
			}
		}
		allow = {
			is_at_war = no
			is_bankrupt = no
			NOT = { num_of_loans = 6 }
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
		}
		effect = {
			if = {
				limit = {
					treasury = 600
					NOT = { num_of_loans = 3 }
				}
				add_treasury = -500
			}
			else_if = {
				limit = {
					treasury = 300
					NOT = { treasury = 600 }
					NOT = { num_of_loans = 3 }
				}
				add_treasury = -250
			}
			if = {
				limit = {
					697 = {
						is_core = ROOT
						has_any_ongoing_construction = no
						num_free_building_slots = 1
						has_manufactory_trigger = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				697 = { 
					add_building = ramparts
				}
			}
			if = {
				limit = {
					698 = {
						is_core = ROOT
						has_any_ongoing_construction = no
						num_free_building_slots = 1
						has_manufactory_trigger = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				698 = { 
					add_building = ramparts
				}
			}
			if = {
				limit = {
					708 = {
						is_core = ROOT
						has_any_ongoing_construction = no
						num_free_building_slots = 1
						has_manufactory_trigger = no
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				708 = { 
					add_building = ramparts
				}
			}
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_remove_ramparts = {
		potential = {
			ai = yes
			any_owned_province = {
				is_core = ROOT
				has_building = ramparts
				OR = {
					trade_goods = coal
					NOT = {
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
							AND = {
								province_id = 36
								is_capital = yes
							}
							AND = {
								province_id = 76
								is_capital = yes
							}
							AND = {
								province_id = 293
								is_capital = yes
							}
							AND = {
								province_id = 330
								is_capital = yes
							}
							AND = {
								province_id = 464
								is_capital = yes
							}
							AND = {
								province_id = 1196
								is_capital = yes
							}
						}
					}
				}
			}
		}
		allow = {
			is_at_war = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
		}
		effect = {
			random_owned_province = {
				limit = {
					is_core = ROOT
					has_building = ramparts
					OR = {
						trade_goods = coal
						NOT = {
							OR = {
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
								AND = {
									province_id = 36
									is_capital = yes
								}
								AND = {
									province_id = 76
									is_capital = yes
								}
								AND = {
									province_id = 293
									is_capital = yes
								}
								AND = {
									province_id = 330
									is_capital = yes
								}
								AND = {
									province_id = 464
									is_capital = yes
								}
								AND = {
									province_id = 1196
									is_capital = yes
								}
							}
						}
					}
				}
				remove_building = ramparts
				if = {
					limit = { trade_goods = coal }
					add_building = furnace
				}
			}
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
}