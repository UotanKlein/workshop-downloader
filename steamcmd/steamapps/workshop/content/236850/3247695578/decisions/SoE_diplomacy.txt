country_decisions = {
	soe_release_aztec_tribs = {
		potential = {
			ai = yes
			technology_group = mesoamerican
			num_of_subjects = 5
		}
		allow = {
			is_at_war = no
		}
		effect = {
			random_subject_country = {
				limit = {
					ai = yes
					is_at_war = no
					liberty_desire = 35
					is_subject_of_type = vassal
				}
				save_global_event_target_as = potential_trib
			}
			event_target:potential_trib = { grant_independence = yes }
			create_subject = {
				subject_type = nahuatl_tributary
				subject = event_target:potential_trib
			}
			clear_global_event_target = potential_trib
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}

	soe_vassalize_minors = {
		potential = {
			ai = no
			total_development = 350
			any_ally = {
				ai = yes
				is_at_war = no
				NOT = { total_development = 50 }
				NOT = { num_of_cities = 6 }
				NOT = { government = republic }
				NOT = { tag = SCO }
				NOT = { tag = PAP }
				capital_scope = { NOT = { development = 25 } }
				NOT = {
					border_distance = {
						who = ROOT
						distance = 100
					}
				}
				is_part_of_hre = no
				has_opinion = {
					who = ROOT
					value = 150
				}
				NOT = { num_of_subjects = 1 }
				trust = { who = ROOT value = 90 }
			}
		}
		allow = {
			is_at_war = no
			NOT = {
				any_subject_country = {
					liberty_desire = 30
				}
			}
			OR = {
				NOT = { has_country_flag = soe_vassalized_ally }
				had_country_flag = {
					flag = soe_vassalized_ally
					days = 3650
				}
			}
		}
		effect = {
			random_ally = {
				limit = {
					ai = yes
					is_at_war = no
					NOT = { total_development = 50 }
					NOT = { num_of_cities = 6 }
					NOT = { government = republic }
					NOT = { tag = SCO }
					NOT = { tag = PAP }
					capital_scope = { NOT = { development = 25 } }
					NOT = {
						border_distance = {
							who = ROOT
							distance = 100
						}
					}
					is_part_of_hre = no
					has_opinion = {
						who = ROOT
						value = 150
					}
					NOT = { num_of_subjects = 1 }
					trust = { who = ROOT value = 90 }
				}
				save_global_event_target_as = potential_vassal
			}
			vassalize = event_target:potential_vassal
			
			if = {
				limit = {
					num_of_owned_provinces_with = {
						is_core = event_target:potential_vassal
						value = 1
					}
					NOT = {
						num_of_owned_provinces_with = {
							is_core = event_target:potential_vassal
							value = 4
						}
					}
				}
				every_owned_province = {
					limit = { is_core = event_target:potential_vassal }
					cede_province = event_target:potential_vassal
				}
			}
			
			clear_global_event_target = potential_vassal
			clr_country_flag = soe_vassalized_ally
			set_country_flag = soe_vassalized_ally
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				vassal = 2
			}
		}
	}
	
	soe_declare_independence_with_support = {
		potential = {
			ai = yes
		}
		allow = {
			is_subject = yes
			NOT = { is_subject_of_type = tributary_state }
			NOT = {	overlord = { truce_with = ROOT } }
			OR = {
				AND = {
					liberty_desire = 60
					calc_true_if = {
						amount = 3
						all_country = {
							is_supporting_independence_of = ROOT
						}
					}
				}
				AND = {
					liberty_desire = 100
					calc_true_if = {
						amount = 2
						all_country = {
							is_supporting_independence_of = ROOT
						}
					}
				}
				AND = {
					liberty_desire = 100
					calc_true_if = {
						amount = 1
						all_country = {
							is_supporting_independence_of = ROOT
						}
					}
				}
				AND = {
					liberty_desire = 100
					is_subject_of_type = daimyo_vassal
				}
			}
			NOT = { has_country_flag = independence_support_timer }
		}
		effect = {
			set_country_flag = independence_support_timer
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_declare_independence_with_support_two = {
		potential = {
			ai = yes
		}
		allow = {
			is_subject = yes
			is_at_war = no
			NOT = { is_subject_of_type = tributary_state }
			NOT = {	overlord = { truce_with = ROOT } }
			OR = {
				AND = {
					liberty_desire = 60
					calc_true_if = {
						amount = 3
						all_country = {
							is_supporting_independence_of = ROOT
							is_at_war = no
						}
					}
					had_country_flag = { flag = independence_support_timer days = 1095 }
				}
				AND = {
					liberty_desire = 100
					calc_true_if = {
						amount = 2
						all_country = {
							is_supporting_independence_of = ROOT
							is_at_war = no
						}
					}
					had_country_flag = { flag = independence_support_timer days = 1095 }
				}
				AND = {
					liberty_desire = 100
					calc_true_if = {
						amount = 1
						all_country = {
							is_supporting_independence_of = ROOT
							is_at_war = no
						}
					}
					had_country_flag = { flag = independence_support_timer days = 1825 }
				}
				AND = {
					liberty_desire = 100
					is_subject_of_type = daimyo_vassal
					had_country_flag = { flag = independence_support_timer days = 1095 }
				}
			}
		}
		effect = {
			clr_country_flag = independence_support_timer
			overlord = { 
				save_event_target_as = overlord_of_disloyal_vassal
			}
			declare_war_with_cb = {
				who = event_target:overlord_of_disloyal_vassal
				casus_belli = cb_independence_war
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_strong_alliances = {
		potential = {
			ai = yes
			any_neighbor_country = { ai = no }
			has_global_flag = soe_extra_diplomacy_flag
		}
		allow = {
			is_at_war = no
			is_subject = no
			is_year = 1450
			num_of_free_diplomatic_relations = 1
			OR = {
				NOT = { has_country_flag = ai_strong_alliance_timer }
				had_country_flag = {
					flag = ai_strong_alliance_timer
					days = 3650
				}
			}
			any_known_country = {
				ai = yes
				is_at_war = no
				is_subject = no
				NOT = { tag = ROOT }
				ROOT = { NOT = { has_casus_belli_against = PREV } }
				NOT = { has_casus_belli_against = ROOT }
				OR = {
					army_strength = {
						who = ROOT
						value = 1
					}
					total_own_and_non_tributary_subject_development = ROOT
				}
				NOT = {
					border_distance = {
						who = ROOT
						distance = 400
					}
				}
				border_distance = {
					who = ROOT
					distance = 40
				}
				num_of_free_diplomatic_relations = 1
				is_free_or_tributary_trigger = yes
				ai_attitude = {
					who = ROOT
					attitude = attitude_friendly
				}
				has_opinion = {
					who = ROOT
					value = 10
				}
				NOT = {
					OR = {
						alliance_with = ROOT
						is_rival = ROOT
						is_enemy = ROOT
						truce_with = ROOT
					}
				}
			}
		}
		effect = {
			clr_country_flag = ai_strong_alliance_timer
			set_country_flag = ai_strong_alliance_timer
			random_known_country = {
				limit = {
					ai = yes
					is_at_war = no
					is_subject = no
					NOT = { tag = ROOT }
					ROOT = { NOT = { has_casus_belli_against = PREV } }
					NOT = { has_casus_belli_against = ROOT }
					OR = {
						army_strength = {
							who = ROOT
							value = 1
						}
						total_own_and_non_tributary_subject_development = ROOT
					}
					NOT = {
						border_distance = {
							who = ROOT
							distance = 400
						}
					}
					border_distance = {
						who = ROOT
						distance = 40
					}
					num_of_free_diplomatic_relations = 1
					is_free_or_tributary_trigger = yes
					ai_attitude = {
						who = ROOT
						attitude = attitude_friendly
					}
					has_opinion = {
						who = ROOT
						value = 10
					}
					NOT = {
						OR = {
							alliance_with = ROOT
							is_rival = ROOT
							is_enemy = ROOT
							truce_with = ROOT
						}
					}
				}
				create_alliance = ROOT
				add_trust = {
					who = ROOT
					value = 20
					mutual = yes
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_military_aid
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_military_aid
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_strong_alliances_two = {
		potential = {
			ai = yes
			is_year = 1450
			OR = {
				has_global_flag = soe_extra_diplomacy_flag
				tag = MOS
				tag = RUS
				was_tag = RUS
			}
		}
		allow = {
			is_at_war = no
			is_subject = no
			NOT = { num_of_allies = 2 }
			num_of_free_diplomatic_relations = 1
			OR = {
				NOT = { has_country_flag = strong_alliance_timer }
				had_country_flag = {
					flag = strong_alliance_timer
					days = 7300
				}
			}
			any_known_country = {
				ai = yes
				is_at_war = no
				is_subject = no
				NOT = { tag = ROOT }
				ROOT = { NOT = { has_casus_belli_against = PREV } }
				NOT = { has_casus_belli_against = ROOT }
				OR = {
					army_strength = {
						who = ROOT
						value = 1
					}
					total_development = 300
				}
				NOT = {
					border_distance = {
						who = ROOT
						distance = 500
					}
				}
				border_distance = {
					who = ROOT
					distance = 40
				}
				num_of_free_diplomatic_relations = 1
				is_free_or_tributary_trigger = yes
				ai_attitude = {
					who = ROOT
					attitude = attitude_friendly
				}
				has_opinion = {
					who = ROOT
					value = 10
				}
				NOT = {
					OR = {
						alliance_with = ROOT
						is_rival = ROOT
						is_enemy = ROOT
						truce_with = ROOT
					}
				}
				OR = {
					NOT = { is_neighbor_of = TUR }
					tag = HUN
					tag = POL
					tag = HAB
					tag = FRA
					tag = SPA
				}
				NOT = { tag = CYP }
				NOT = { tag = BOS }
				NOT = { tag = CRT }
				NOT = { tag = KNI }
			}
		}
		effect = {
			clr_country_flag = strong_alliance_timer
			set_country_flag = strong_alliance_timer
			random_known_country = {
				limit = {
					ai = yes
					is_at_war = no
					is_subject = no
					NOT = { tag = ROOT }
					ROOT = { NOT = { has_casus_belli_against = PREV } }
					NOT = { has_casus_belli_against = ROOT }
					OR = {
						army_strength = {
							who = ROOT
							value = 1
						}
						total_development = 300
					}
					NOT = {
						border_distance = {
							who = ROOT
							distance = 500
						}
					}
					border_distance = {
						who = ROOT
						distance = 40
					}
					num_of_free_diplomatic_relations = 1
					is_free_or_tributary_trigger = yes
					ai_attitude = {
						who = ROOT
						attitude = attitude_friendly
					}
					has_opinion = {
						who = ROOT
						value = 10
					}
					NOT = {
						OR = {
							alliance_with = ROOT
							is_rival = ROOT
							is_enemy = ROOT
							truce_with = ROOT
						}
					}
					OR = {
						NOT = { is_neighbor_of = TUR }
						tag = HUN
						tag = POL
						tag = HAB
						tag = FRA
						tag = SPA
					}
					NOT = { tag = CYP }
					NOT = { tag = BOS }
					NOT = { tag = CRT }
					NOT = { tag = KNI }
				}
				create_alliance = ROOT
				add_trust = {
					who = ROOT
					value = 20
					mutual = yes
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_military_aid
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_military_aid
				}
			}
		}
		
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
	
	soe_strong_alliances_russia_special = {
		potential = {
			ai = yes
			is_subject = no
			is_free_or_tributary_trigger = yes
			OR = {
				tag = MOS
				tag = RUS
			}
			is_year = 1470
			NOT = { is_year = 1580 }
			num_of_free_diplomatic_relations = 1
			OR = {
				is_rival = POL
				is_rival = PLC
			}
			ai_attitude = {
				who = TUR
				attitude = attitude_friendly
			}
		}
		allow = {
			is_at_war = no
			TUR = {
				ai = yes
				is_at_war = no
				is_subject = no
				NOT = { has_casus_belli_against = ROOT }
				army_strength = {
					who = ROOT
					value = 0.65
				}
				NOT = {
					border_distance = {
						who = ROOT
						distance = 400
					}
				}
				num_of_free_diplomatic_relations = 1
				is_free_or_tributary_trigger = yes
				ai_attitude = {
					who = ROOT
					attitude = attitude_friendly
				}
				has_opinion = {
					who = ROOT
					value = 50
				}
				NOT = {
					OR = {
						alliance_with = ROOT
						is_rival = ROOT
						truce_with = ROOT
					}
				}
				OR = {
					is_rival = POL
					is_rival = PLC
				}
			}
			ROOT = { 
				NOT = { has_casus_belli_against = TUR }
				NOT = { is_rival = TUR }
			}
		}
		effect = {
			create_alliance = TUR
			add_trust = {
				who = TUR
				value = 20
				mutual = yes
			}
			add_opinion = {
				who = TUR
				modifier = opinion_military_aid
			}
			reverse_add_opinion = {
				who = TUR
				modifier = opinion_military_aid
			}
		}
		ai_importance = 500

		ai_will_do = {
			factor = 10
		}
	}
}